<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_192) on Sun Nov 03 18:27:26 PST 2019 -->
<title>FaultTolerantCache (robustools 0.0.1 API)</title>
<meta name="date" content="2019-11-03">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FaultTolerantCache (robustools 0.0.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../robustools/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../robustools/FaultTolerantCache.Builder.html" title="class in robustools"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?robustools/FaultTolerantCache.html" target="_top">Frames</a></li>
<li><a href="FaultTolerantCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">robustools</div>
<h2 title="Class FaultTolerantCache" class="title">Class FaultTolerantCache&lt;K,V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>robustools.FaultTolerantCache&lt;K,V&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">FaultTolerantCache&lt;K,V&gt;</span>
extends java.lang.Object</pre>
<div class="block">A cache that returns cached entry as much as possible when reloading fails.
 <br>
 FaultTolerantCache is useful when your system load data from a remote server
 and your system should be alive when the remote server is down. When the
 remote server system is down, you see cached entries for longer time than
 regular expiration time.
 <br>
 The worst case is that the remote server is not completely down but extremely
 slow. To isolate the impact, FaultTolerantCache refreshes cached entry using
 background threads. FaultTolerantCache uses foreground thread only when
 cached data is older than configured hard limit time or data is not even
 cached so that you receive the exception passed through from the cache loader
 function.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.Builder.html" title="class in robustools">FaultTolerantCache.Builder</a>&lt;<a href="../robustools/FaultTolerantCache.Builder.html" title="type parameter in FaultTolerantCache.Builder">K</a>,<a href="../robustools/FaultTolerantCache.Builder.html" title="type parameter in FaultTolerantCache.Builder">V</a>&gt;</span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.FailureRateLimitException.html" title="class in robustools">FaultTolerantCache.FailureRateLimitException</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">V</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.html#get-K-">get</a></span>(<a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">K</a>&nbsp;key)</code>
<div class="block">Get a cached key, or load the key to cache and return it.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">V</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.html#getIfPresent-K-">getIfPresent</a></span>(<a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">K</a>&nbsp;key)</code>
<div class="block">Get a key if given it is cached.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.html#invalidate-K-">invalidate</a></span>(<a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">K</a>&nbsp;key)</code>
<div class="block">Removes given key from the cache.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.html#invalidateAll--">invalidateAll</a></span>()</code>
<div class="block">Removes all keys from the cache.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.html#invalidateAll-java.lang.Iterable-">invalidateAll</a></span>(java.lang.Iterable&lt;? extends <a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">K</a>&gt;&nbsp;keys)</code>
<div class="block">Removes given keys from the cache.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../robustools/FaultTolerantCache.Builder.html" title="class in robustools">FaultTolerantCache.Builder</a>&lt;java.lang.Object,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.html#newBuilder--">newBuilder</a></span>()</code>
<div class="block">Creates a new builder to build FaultTolerantCache.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.html#refresh--">refresh</a></span>()</code>
<div class="block">Refreshes cached values which are subject to refresh.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../robustools/FaultTolerantCache.html#refreshNow--">refreshNow</a></span>()</code>
<div class="block">Refreshes all cached values.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newBuilder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBuilder</h4>
<pre>public static&nbsp;<a href="../robustools/FaultTolerantCache.Builder.html" title="class in robustools">FaultTolerantCache.Builder</a>&lt;java.lang.Object,java.lang.Object&gt;&nbsp;newBuilder()</pre>
<div class="block">Creates a new builder to build FaultTolerantCache.</div>
</li>
</ul>
<a name="invalidate-java.lang.Object-">
<!--   -->
</a><a name="invalidate-K-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidate</h4>
<pre>public&nbsp;boolean&nbsp;invalidate(<a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">K</a>&nbsp;key)</pre>
<div class="block">Removes given key from the cache.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if given key was cached.</dd>
</dl>
</li>
</ul>
<a name="invalidateAll-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateAll</h4>
<pre>public&nbsp;boolean&nbsp;invalidateAll(java.lang.Iterable&lt;? extends <a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">K</a>&gt;&nbsp;keys)</pre>
<div class="block">Removes given keys from the cache.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if at least one of given keys was cached.</dd>
</dl>
</li>
</ul>
<a name="invalidateAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateAll</h4>
<pre>public&nbsp;void&nbsp;invalidateAll()</pre>
<div class="block">Removes all keys from the cache.</div>
</li>
</ul>
<a name="getIfPresent-java.lang.Object-">
<!--   -->
</a><a name="getIfPresent-K-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIfPresent</h4>
<pre>public&nbsp;<a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">V</a>&nbsp;getIfPresent(<a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">K</a>&nbsp;key)</pre>
<div class="block">Get a key if given it is cached.

 If the key is not cached, this method returns null. This method never triggers cache loading.</div>
</li>
</ul>
<a name="get-java.lang.Object-">
<!--   -->
</a><a name="get-K-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">V</a>&nbsp;get(<a href="../robustools/FaultTolerantCache.html" title="type parameter in FaultTolerantCache">K</a>&nbsp;key)</pre>
<div class="block">Get a cached key, or load the key to cache and return it.

 Depending on the time when the cache was loaded, this method behaves differently:
 <ul>
 <li> If expireAfterWrite has passed, or the cache is not even loaded yet:
   Cache loader is called in current thread. If loader throws an exception, this method
   throws the exception.
 <li> If refreshAfterWrite has passed:
   Cache loader is called in current thread. If loader throws an exception, this method
   returns the cached value without throwing the exception.
 <li> If asynchronousRefreshAfterWrite has passed:
   This method returns the cached value. The key is enqueued for background executor to refresh.
 <li> If asynchronousRefreshAfterWrite, refreshAfterWrite, and expireAfterWrite have not passed:
   This method simply returns the cached value.
 </ul></div>
</li>
</ul>
<a name="refresh--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre>public&nbsp;void&nbsp;refresh()</pre>
<div class="block">Refreshes cached values which are subject to refresh.

 This method scans all cached values. If it finds keys which are subject to refresh
 but not expired yet, then it enqueues them to queue for refresh. Finally, this method
 calls cache loader in current thread.
 <br>
 Even if cache loader throw exception, this method doesn't throw exception.</div>
</li>
</ul>
<a name="refreshNow--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>refreshNow</h4>
<pre>public&nbsp;void&nbsp;refreshNow()</pre>
<div class="block">Refreshes all cached values.

 This method is sable with refresh excepting that this method enqueues keys even if
 the key is not subject to refresh.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../robustools/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../robustools/FaultTolerantCache.Builder.html" title="class in robustools"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?robustools/FaultTolerantCache.html" target="_top">Frames</a></li>
<li><a href="FaultTolerantCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
